---
title: "zip4j 한글깨짐 문제"
categories: 
  - java
toc: true
---

## zip4j 한글깨짐 문제

압축 관련 자바로 된 라이브러리를 검색해봤더니 암호를 지원하는것이 별로 없더라..  
그 중 zip4j라는 오픈소스를 이용해봤다.
  
  
암호된것 까지는 잘 풀었는데 푸는 과정에서 인코딩문제인지 한글이 깨지더라.  
그래서 메소드를 잘 살펴보니 ZipModel 클래스에 setFileNameCharset이란 메소드가 있었는데  
이것은 zipModel의 헤더부분을 읽어오는 부분에서 파일 목록을 가져왔다.   
디버깅을 해보니 이부분이 파일을 가져오고 암호가 설정 되었는지 체크하는 과정에서 이미 깨진 상태더라..  
그래서 암호체크를 하기전에.. 그러니까 어떠한 작업도 하기 전에 setFileNameCharset을 설정해 두었더니 한글이 깨지지 않고 잘표현되었다.  
  
즉 지금까지 확인한 바로는 zip4j 오픈소스는 암호된 파일 지원 한글 이름 파일 지원. 즉 아직까지 내가 사용할수 있는 기능으로는 충분했다.